<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de itinerâncias</title>
    <style>
        body {
            
            background-image: linear-gradient(to right, #6A040F, #E85D04);
            ;
            @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400&display=swap');
            font-family: Roboto, sans-serif;
         ;
            
            display: grid;
            place-content: center;
        }

        .box{
            position: absolute;
            border: #800E13;
            transform: translate(-50%, -50%);
            top: 50%;
            left: 50%;
            background-color: rgba(0,0,0,0.2);
            padding: 15px;
            border-radius: 15px;
            width: 50%;
        }

        h1 {
            color: white;
            text-align: center;
            text-shadow: #38040E;
        }

        .inputrf{
            background: none;
            border: none;
            border-bottom:1px solid #FFF;
            outline: none;
            color: white;
            font-size: 15px;
            width: 100%;
            letter-spacing: 2px;
        }
        
        
        .labelrf{
          position:relative;
          top: -20px;
          left: 0px;
          pointer-events: none;
          transition: .5s;
          color: white;
          font-size: 15px;
          letter-spacing: 2px;
        }
        
        .inputrf:focus ~ .labelrf,
        .inputrf:valid ~ .labelrf{
            top: -40px;
            font-size: 12px;
            color: #370617;
        }

        .inputlocal{
            background: none;
            border: none;
            border-bottom:1px solid #FFF;
            outline: none;
            color: white;
            font-size: 15px;
            width: 100%;
            letter-spacing: 2px;
        }

        .inputbuttonlocal {
            height: 40px;
            width: 100%;
            background-color: rgba(0,0,0,0.4);
            padding: 0px 5px;
            box-sizing: border-box;
            border-radius: 5px;
            outline: none;
            color: white;
            border: none;
            letter-spacing: 2px;
            font-size: 15px;
            text-align: justify;
        }

        .inputbuttonlocal:hover {
            height: 40px;
            width: 100%;
            background-color: rgba(0,0,0,0.6);
            padding: 0px 5px;
            box-sizing: border-box;
            border-radius: 5px;
            outline: none;
            color: white;
            border: none;
            letter-spacing: 2px;
            font-size: 15px;
            cursor: pointer;
        }

        .inputsubimit {
            height: 40px;
            width: 100%;
            background-color: #9D0208;
            padding: 0px 5px;
            box-sizing: border-box;
            border-radius: 5px;
            outline: none;
            color: white;
            border: none;
            letter-spacing: 2px;
            font-size: 15px;
        }

        .inputsubimit:hover {
            height: 40px;
            width: 100%;
            background-color: #6A040F;
            padding: 0px 5px;
            box-sizing: border-box;
            border-radius: 5px;
            outline: none;
            color: white;
            border: none;
            letter-spacing: 2px;
            font-size: 15px;
            cursor: pointer;
        }

.inputboxcheckinout {
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 10px;
    
}

.checkin {
    appearance: none;
    border: 2px solid #D00000;
    width: 30px;
    height: 30px;
    cursor: pointer;
    border-radius: 50%;
    outline: none;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 10px;
}

.checkin:before {
    content: '';
    appearance: none;
    background: #9D0208;
    width: 15px;
    height: 15px;
    cursor: pointer;
    border-radius: 50%;
    outline: none;
    position: absolute;
    opacity: 0;
    transform: all 900ms ease-in-out;
}

.checkin:checked:before {
opacity: 1;
}

.checkin:focus {
box-shadow: 0 0 5px #370617;
}

.labelentrada {
    color: white;
    margin-right: 20px;
}

.checkout {
    appearance: none;
    border: 2px solid #D00000;
    width: 30px;
    height: 30px;
    cursor: pointer;
    border-radius: 50%;
    outline: none;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}

.checkout:before {
    content: '';
    appearance: none;
    background: #9D0208;
    width: 15px;
    height: 15px;
    cursor: pointer;
    border-radius: 50%;
    outline: none;
    position: absolute;
    opacity: 0;
    transform: all 900ms ease-in-out;
}

.checkout:checked:before {
opacity: 1;
}

.checkout:focus {
box-shadow: 0 0 5px #370617;
}

.labelsaida {
    color: white;
    padding-left: 7px;
}

.inputdropdown{
height: 40px;
width: 100%;
background-color: rgba(0,0,0,0.4);
padding: 0px 5px;
box-sizing: border-box;
border-radius: 5px;
outline: none;
color: white;
border: none;
letter-spacing: 2px;
font-size: 15px;
}

::-webkit-input-placeholder{color: aliceblue;}
.inputdropdown::-moz-placeholder{color: aliceblue;}
.dropdown{
    width: 100%;
    background-color: #370617;
    border-radius: 5px;
    margin-top: 10px;
    border: none;
    height: 90px;
    overflow: auto;
    display: none;
    padding: 5px;
    color: white;
    transition: .3s;

    transform: translate(0px,-10px);
}
::-webkit-scrollbar-thumb{
background-color: #6A040F;
border-radius: 5px;
}

::-webkit-scrollbar{
   background-color: #370617;
   width: 5px;
   border-top-right-radius: 5px;
   border-bottom-right-radius: 5px;
}
.item{
    height: 30px;
    padding: 0px 5px;
    box-sizing: border-box;
    transition: .6s;
    cursor: pointer;
    font-size: 12px;
}

.item:hover{
    background-color: rgba(0,0,0,0.2);
    padding-left: 7px;
    transition: .3s;
    letter-spacing: 2px;
}

</style>
</head>

<body>
<div class="box">
<form action="https://api.sheetmonkey.io/form/m95gX5Fkvef7L6ZHtjADFB" id="formsregistro" method="POST" autocomplete="off" onsubmit="return validarFormulario();">
<h1><b>Itinerância</b></h1>
 
<div class="container">
    <input type="text" class="inputdropdown" id="menu" name="dres" placeholder="Selecione sua DRE" onfocus="dropdown(0)" onblur="dropdown(1)" required>
<div class="dropdown">
    <div class="listdropdown">   
<div class="item" id="item-1" onmousedown="category(1)">Butantã</div>

<div class="item" id="item-2" onmousedown="category(2)">Campo Limpo</div>

<div class="item" id="item-3" onmousedown="category(3)">Capela do Socorro</div>

<div class="item" id="item-4" onmousedown="category(4)">Freguesia/Brasilândia</div>

<div class="item" id="item-5" onmousedown="category(5)">Guainases</div>

<div class="item" id="item-6" onmousedown="category(6)">Ipiranga</div>

<div class="item" id="item-7" onmousedown="category(7)">Itaquera</div>

<div class="item" id="item-8" onmousedown="category(8)">Jaçanã/Tremembé</div>

<div class="item" id="item-9" onmousedown="category(9)">Penha</div>

<div class="item" id="item-10" onmousedown="category(10)">Pirituba/Jaraguá</div>

<div class="item" id="item-11" onmousedown="category(11)">Santo Amaro</div>

<div class="item" id="item-12" onmousedown="category(12)">São Mateus</div>

<div class="item" id="item-13" onmousedown="category(13)">São Miguel Paulista</div>
</div>
</div>
</div>
<br></br>
<div class="inputboxrf">
<input type="text" class="inputrf" name="registrofuncional" id="iregistrofuncional" required>
<label for="registrofuncional" class="labelrf">Registro Funcional</label>
</div>

 <!-- Adicione o atributo onclick ao botão Registrar Itinerância -->
<p><input type="button" class="inputbuttonlocal" value="Obter localização" onclick="obterLocalizacao()"></p>
<!-- Campo para exibir a localização (com o atributo readonly) -->
<p><input type="text" class="inputlocal" name="local" id="ilocal" readonly></p>

<div class="inputboxcheckinout">
    <input type="checkbox" class="checkin" name="entrada" id="ientrada">
    <label for="ientrada" class="labelentrada">Entrada</label>
    <input type="checkbox" class="checkout" name="saida" id="isaida">
    <label for="isaida" class="labelsaida">Saída</label>
    </div>

<input type="submit" class="inputsubimit" value="Enviar registro" name="subimit" id="isubimit" disabled>

</form>
</div>
<script src="scriptdatahora.js"></script>
</body>
</html>

<script>
    function category(c){
        var item = document.getElementById('item-'+c).innerHTML;
        document.getElementsByTagName('input')[0].value=item;
    }
    function dropdown(p){
    var e = document.getElementsByClassName('dropdown')[0];
    var d = ['block','none'];
    e.style.display = d[p];
    
    var t = ['0px','0px,-10px'];
    
    setTimeout(function(){
        e.style.transform = 'translate('+t[p]+')';
    },0);
    }
    </script>

<!-- Seu script JavaScript -->
<script>
    // Função para obter a localização do usuário
    function obterLocalizacao() {
    if (navigator.geolocation) {
    function success(position) {
    var latitude = position.coords.latitude;
    var longitude = position.coords.longitude;
    // Preencha o campo de localização com a latitude e longitude
    document.getElementById("ilocal").value = "Latitude: " + latitude + ", Longitude: " + longitude;
    }
    function error(err) {
    console.log(err);
    }
    // Solicite a localização apenas quando o botão for clicado
    navigator.geolocation.getCurrentPosition(success, error, {
    enableHighAccuracy: true,
    timeout: 5000
    });
    } else {
    alert("Geolocalização não é suportada neste navegador.");
    }
    }
    </script>

<script>
    function validarFormulario() {
        // Obter referências às caixas de seleção
        var checkbox1 = document.getElementById("ientrada");
        var checkbox2 = document.getElementById("isaida");
        
        // Verificar se pelo menos uma caixa de seleção está marcada
        if (!checkbox1.checked && !checkbox2.checked) {
            alert("Selecione pelo menos uma opção.");
            return false; // Impedir o envio do formulário
        }
        return true; // Permitir o envio do formulário
    }
</script>

<script>
    // Captura o campo de localização e o botão de envio
    const localizacaoInput = document.getElementById('ilocal');
    const botaoEnviar = document.getElementById('isubimit');

    // Função para verificar se o campo de localização está vazio
    function verificarCampoLocalizacao() {
        if (localizacaoInput.value === '') {
            botaoEnviar.setAttribute('disabled', 'true');
        } else {
            botaoEnviar.removeAttribute('disabled');
        }
    }

    // Adiciona um ouvinte de evento ao campo de localização
    localizacaoInput.addEventListener('input', verificarCampoLocalizacao);
    </script>